<form #form="ngForm" class="cart-panel" (ngSubmit)="onSubmit.emit()">
  <div class="mb-3">
    <label for="full-name" class="form-label">Full name</label>
    <input
      required
      minlength="3"
      type="text"
      name="full-name"
      id="full-name"
      class="form-control"
      placeholder="(minimum 3 characters)"
      [(ngModel)]="user.name"
      #name="ngModel"
    />

    <div *ngIf="name.invalid && (name.dirty || name.touched)">
      <small class="text-danger" *ngIf="name.errors?.['required']">
        * this field is required
      </small>
      <small class="text-danger" *ngIf="name.errors?.['minlength']">
        the name should be more than 3 characters.
      </small>
    </div>
  </div>

  <div class="mb-3">
    <label for="address" class="form-label">Address</label>
    <input
      required
      minlength="6"
      type="text"
      name="address"
      id="address"
      class="form-control"
      placeholder="(minimum 6 characters)"
      [(ngModel)]="user.address"
      #address="ngModel"
    />

    <div *ngIf="address.invalid && (address.dirty || address.touched)">
      <small class="text-danger" *ngIf="address.errors?.['required']">
        * this field is required
      </small>
      <small class="text-danger" *ngIf="address.errors?.['minlength']">
        the address must be more than 6 characters.
      </small>
    </div>
  </div>

  <div class="mb-3">
    <label for="credit-card" class="form-label">Credit card number</label>
    <input
      required
      minlength="16"
      maxlength="16"
      pattern="[0-9]*"
      type="text"
      name="credit-card"
      id="credit-card"
      class="form-control"
      placeholder="(16-digit number)"
      aria-describedby="creditHelper"
      [(ngModel)]="user.creditCard"
      #credit="ngModel"
    />

    <div *ngIf="credit.invalid && (credit.dirty || credit.touched)">
      <small class="text-danger" *ngIf="credit.errors?.['required']">
        * this field is required
      </small>
      <small
        class="text-danger d-block"
        *ngIf="credit.errors?.['minlength'] || credit.errors?.['maxlength']"
      >
        credit card number must be a 16-digit number
      </small>
      <small class="text-danger d-block" *ngIf="credit.errors?.['pattern']">
        only numbers are allowed
      </small>
    </div>

    <small id="creditHelper" class="text-muted">
      We'll never share your payment detailes with anyone else.
    </small>
  </div>

  <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
    Submit
  </button>
</form>
